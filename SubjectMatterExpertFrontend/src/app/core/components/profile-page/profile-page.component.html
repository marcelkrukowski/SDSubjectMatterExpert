<div class="profile-container"  *ngIf="(userDetails$ | async) as user">
  <img [src]="user.photo?.url || '/assets/graphic-abstract/Illustrations_Man_Laptop.png'" alt="User Avatar" class="avatar">
  <h2>{{ user.username }}</h2>
  <div class="user-info">
    <p><span>Email:</span> {{ user.email }}</p>
    <p><span>First Name:</span> {{ user.firstname }}</p>
    <p><span>Last Name:</span> {{ user.lastname }}</p>
    <p><span>Location:</span> {{ user.location }}</p>
  </div>
</div>

<div class="col-md-12 mt-5 text-center">
  <button class="btn btn-primary profile-button"  type="button" (click)="OpenModel()" *ngIf="!isSME" >Apply For SME</button>
</div>



<!-- The Modal -->
<div class="modal" id="myModal">
  <div class="modal-dialog custom-modal-dialog">
    <div class="modal-content custom-modal-content card card-body">
      <form *ngIf="SMEForm" [formGroup]="SMEForm">
        <div class="form-group row mt-4">
          <div class="col-md-6">
          </div>
          <div class="col-md-6">
            <h6 class="modal-title">SME Profile Registration Form</h6>
            <div class="text-black-50">Please fill this form to register as an SME. Your Agile Coach will be notified to
              approve or decline your
              request.</div>
          </div>
        </div>
        <!-- Area of expertise -->
        <div class="form-group row mt-4">
          <div class="col-md-6">
            <label for="areasOfExpertise" class="form-label">Areas OF Expertise <sup class="text-danger">*</sup></label>
          </div>
          <div class="col-md-6">
            <input type="text" formControlName="areasOfExpertise" class="form-control" id="areasOfExpertise">
          </div>
        </div>
        <!-- Location -->
        <div class="row mt-4">
          <div class="col-md-6">
            <label for="location" class="form-label">Location<sup class="text-danger">*</sup></label>
          </div>
          <div class="col-md-6">
            <input type="text" formControlName="location" class="form-control" id="location">
          </div>
        </div>
        <!-- Languages -->
        <div class="row mt-4">
          <div class="col-md-6">
            <label for="languages" class="form-label">Languages <sup class="text-danger">*</sup></label>
          </div>
          <div class="col-md-6">
            <input type="text" formControlName="languages" class="form-control" id="languages">
          </div>
        </div>
        

        <div class="row mt-4">
          <div class="col-md-6">
          </div>
          <!-- Submit SME form button-->
          <div class="col-md-6">
            <div class="row">
              <div class="col-md-6 form-group">
                <button type="button" class="btn btn-secondary" (click)="CloseModel()"
                  data-bs-dismiss="modal">Cancel</button>
              </div>
              <div class="col-md-6 form-group">
                <button type="button" class="btn btn-primary" (click)="submitSMEForm()">Submit</button>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Overlay for blurring -->
<div class="overlay" [class.active]="isModalOpen"></div>



